import type { NextPage } from 'next'
import Head from 'next/head'
import RandomText from '../features/randomtext/randomText'
import Settings from '../features/setup/setup'
import Timer from '../features/timer/timer'
import Score from '../features/score/score'
import styles from '../styles/Home.module.css'

import { Container, Card, Row, Text, Grid } from "@nextui-org/react";
import { useAppSelector } from '../app/hooks';
import { selectMessage } from '../features/score/scoreSlice'


const Home: NextPage = () => {

  const message = useAppSelector(selectMessage)

  return (
    <Container justify="center">
      <Head>
        <title>TypeAlong</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <h2 className={styles.title}>
          Welcome to TypeAlong!
        </h2>

        {
          message === '' ?
          <Card className={styles.description} css={{ $$cardColor: '$colors$primary' }}>
            <Card.Body>
              <Row justify="center" align="center">
                <Text h6 size={15} color="white" css={{ m: 0 }}>
                  Get started by generating a random text or copy/paste your own text!
                </Text>
              </Row>
            </Card.Body>
          </Card>
          :
          message.substring(0,1) === "C" ?
            <Card className={styles.description} css={{ $$cardColor: '$colors$success' }}>
              <Card.Body>
                <Row justify="center" align="center">
                  <Text h6 size={15} color="white" css={{ m: 0 }}>
                    {message}
                  </Text>
                </Row>
              </Card.Body>
            </Card>
          :
          <Card className={styles.description} css={{ $$cardColor: '$colors$warning' }}>
            <Card.Body>
              <Row justify="center" align="center">
                <Text h6 size={15} color="white" css={{ m: 0 }}>
                  {message}
                </Text>
              </Row>
            </Card.Body>
          </Card>
        }

        
      <Grid.Container className={styles.score_board} gap={2} justify="center">

        <Grid id={styles.setting} xs={12} sm={4}>
          <Settings/>
        </Grid>
        <Grid id={styles.score}  xs={6} sm={4}>
          <Score />
        </Grid>
        <Grid id={styles.timer}  xs={6} sm={4}>
          <Timer/>
        </Grid>
      </Grid.Container>
          
      
        
        
        <Card >
          <Card.Body>
              <RandomText />
          </Card.Body>
        </Card>
      </main>

      <footer className={styles.footer}>
        Copyright &copy; 2022
        <a id={styles.name}
        href="https://www.linkedin.com/in/uwem-uke-9a6b06125/" 
        target="_blank"
        rel="noopener noreferrer"
        >
          Uwem Uke.
        </a>
        All Rights Reserved
      </footer>
      </Container>
  )
}

export default Home
